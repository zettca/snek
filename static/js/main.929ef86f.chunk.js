(this["webpackJsonpsnek-client"]=this["webpackJsonpsnek-client"]||[]).push([[0],{64:function(t,e,i){},65:function(t,e,i){"use strict";i.r(e);var n=i(32),c=i(29),o=(i(64),"UP"),s="DOWN",a="LEFT",r="RIGHT";var h=i(10),u=i(30),l=i(31),d={width:600,height:600},f={x:20,y:20},v=["#002984","#9c27b0","#ffeb3b","#4caf50","#00bcd4","#c66900"].map((function(t){return{dark:t,light:Object(l.a)(t,.2)}}));function w(t,e){var i=e.x,n=e.y;return{x:Math.floor(t.width/i),y:Math.floor(t.height/n)}}var y=function(){function t(e,i){var n=i.numTiles,c=void 0===n?f:n,o=i.size,s=void 0===o?d:o;Object(h.a)(this,t),this.ctx=e,this.numTiles=c,this.size=s,this.tileSize=w(s,c)}return Object(u.a)(t,[{key:"setNumTiles",value:function(t){this.numTiles=t,this.tileSize=w(this.size,this.numTiles)}},{key:"setSize",value:function(t){this.size=t,this.tileSize=w(this.size,this.numTiles)}},{key:"drawCircle",value:function(t,e){var i=this.tileSize,n=i.x,c=i.y;this.ctx.beginPath(),this.ctx.ellipse((t.x+.5)*n,(t.y+.5)*c,n/2,c/2,0,0,2*Math.PI),this.ctx.fillStyle=e,this.ctx.fill()}},{key:"drawSquare",value:function(t,e){var i=this.tileSize,n=i.x,c=i.y,o=t.x*n,s=t.y*c;this.ctx.fillStyle=e,this.ctx.fillRect(o+2,s+2,n-2,c-2)}},{key:"draw",value:function(t){var e=this,i=this.size,n=i.width,c=i.height,o=t.snakes,s=void 0===o?[]:o,a=t.apples,r=void 0===a?[]:a,h=t.obstacles,u=void 0===h?[]:h;this.ctx.fillStyle="#212121",this.ctx.fillRect(0,0,n,c),s.forEach((function(t,i){var n=v[i%v.length];t.body.forEach((function(t){return e.drawSquare(t,n.dark)})),e.drawSquare(t.position,n.light)})),r.forEach((function(t){e.drawCircle(t.position,"#FF0000")})),u.forEach((function(t){e.drawSquare(t.position,"#CCCCCC")}))}}]),t}(),m=document.getElementById("root"),g=document.createElement("canvas"),p=g.getContext("2d");m.appendChild(g);var x=new y(p,{size:{width:g.width,height:g.height}}),b="ws://".concat("https://zettca-sneks.herokuapp.com/"),k=Object(c.io)(b);k.on("connect",(function(){console.log("Connected to: ".concat(b," - ").concat(k.id));var t=document.location.pathname.slice(1)||"room1";k.emit("join",t)})),k.on("config",(function(t){var e=t.tileCount;x.setNumTiles(Object(n.a)({},e))})),k.on("tick",(function(t){requestAnimationFrame((function(){return x.draw(t)}))}));var z={x:0,y:0};function S(){var t=document.body||{},e=t.clientWidth,i=t.clientHeight,n=Math.min(e,i);g.width=n,g.height=n,x.setSize({width:n,height:n})}m.addEventListener("keydown",(function(t){var e=function(t){switch(t.code){case"KeyA":case"ArrowLeft":return a;case"KeyW":case"ArrowUp":return o;case"KeyD":case"ArrowRight":return r;case"KeyS":case"ArrowDown":return s;default:return null}}(t);k.emit("input",e)})),m.addEventListener("touchstart",(function(t){z.x=t.changedTouches[0].screenX,z.y=t.changedTouches[0].screenY}),!1),m.addEventListener("touchend",(function(t){var e=t.changedTouches[0].screenX-z.x,i=t.changedTouches[0].screenY-z.y,n=function(t,e){return 0===t&&0===e?null:Math.abs(t)>Math.abs(e)?t>0?"RIGHT":"LEFT":e>0?"DOWN":"UP"}(e,i);n&&k.emit("input",n)}),!1),window.addEventListener("resize",S),document.addEventListener("DOMContentLoaded",S,!1)}},[[65,1,2]]]);
//# sourceMappingURL=main.929ef86f.chunk.js.map