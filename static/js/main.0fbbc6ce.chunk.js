(this["webpackJsonpsnek-client"]=this["webpackJsonpsnek-client"]||[]).push([[0],{53:function(t,e){},56:function(t,e,i){},57:function(t,e,i){"use strict";i.r(e);var n=i(24),c=i.n(n);i(56);var s=i(25),a=i(26),r={width:600,height:600},h={x:20,y:20},o=[{light:"#9c27b0",dark:"#6a0080"},{light:"#3f51b5",dark:"#002984"},{light:"#00bcd4",dark:"#008ba3"},{light:"#4caf50",dark:"#087f23"},{light:"#ffeb3b",dark:"#c8b900"},{light:"#ff9800",dark:"#c66900"}];function u(t,e){var i=e.x,n=e.y;return{x:Math.floor(t.width/i),y:Math.floor(t.height/n)}}var l=function(){function t(e,i){var n=i.numTiles,c=void 0===n?h:n,a=i.size,o=void 0===a?r:a;Object(s.a)(this,t),this.ctx=e,this.numTiles=c,this.size=o,this.tileSize=u(o,c)}return Object(a.a)(t,[{key:"setNumTiles",value:function(t){this.numTiles=t,this.tileSize=u(this.size,this.numTiles)}},{key:"setSize",value:function(t){this.size=t,this.tileSize=u(this.size,this.numTiles)}},{key:"drawCircle",value:function(t,e){var i=this.tileSize,n=i.x,c=i.y;this.ctx.beginPath(),this.ctx.ellipse((t.x+.5)*n,(t.y+.5)*c,n/2,c/2,0,0,2*Math.PI),this.ctx.fillStyle=e,this.ctx.fill()}},{key:"drawSquare",value:function(t,e){var i=this.tileSize,n=i.x,c=i.y,s=t.x*n,a=t.y*c;this.ctx.fillStyle=e,this.ctx.fillRect(s+2,a+2,n-2,c-2)}},{key:"draw",value:function(t){var e=this,i=this.size,n=i.width,c=i.height,s=t.apple,a=t.snakes;this.ctx.fillStyle="#212121",this.ctx.fillRect(0,0,n,c),a.forEach((function(t,i){var n=o[i%o.length];e.drawSquare(t.position,n.light),t.body.forEach((function(t){return e.drawSquare(t,n.dark)}))})),this.drawCircle(s.position,"#FF0000")}}]),t}(),d="zettca-snek.herokuapp.com",f=document.getElementById("root"),g=document.createElement("canvas"),v=g.getContext("2d");f.appendChild(g);var w=new l(v,{size:{width:g.width,height:g.height}}),y=c()(d);y.on("connect",(function(){console.log("Connected to: ".concat(d," - ").concat(y.id))})),y.on("gamestart",(function(t){var e=t.tilesX,i=t.tilesY;console.log(t),w.setNumTiles({x:e,y:i})})),y.on("statechange",(function(t){requestAnimationFrame((function(){return w.draw(t)}))}));var x={x:0,y:0};function k(){console.warn("RESIZE!");var t=document.body||{},e=t.clientWidth,i=t.clientHeight,n=Math.min(e,i);g.width=n,g.height=n,w.setSize({width:n,height:n})}f.addEventListener("keydown",(function(t){var e=function(t){switch(t.code){case"KeyA":case"ArrowLeft":return"LEFT";case"KeyW":case"ArrowUp":return"UP";case"KeyD":case"ArrowRight":return"RIGHT";case"KeyS":case"ArrowDown":return"DOWN";default:return"RIGHT"}}(t);y.emit("input",e)})),f.addEventListener("touchstart",(function(t){x.x=t.changedTouches[0].screenX,x.y=t.changedTouches[0].screenY}),!1),f.addEventListener("touchend",(function(t){var e=t.changedTouches[0].screenX-x.x,i=t.changedTouches[0].screenY-x.y,n=function(t,e){return 0===t&&0===e?null:Math.abs(t)>Math.abs(e)?t>0?"RIGHT":"LEFT":e>0?"DOWN":"UP"}(e,i);n&&y.emit("input",n)}),!1),window.addEventListener("resize",k),document.addEventListener("DOMContentLoaded",k,!1)}},[[57,1,2]]]);
//# sourceMappingURL=main.0fbbc6ce.chunk.js.map