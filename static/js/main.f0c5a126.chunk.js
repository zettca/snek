(this["webpackJsonpsnek-client"]=this["webpackJsonpsnek-client"]||[]).push([[0],{55:function(t,e){},58:function(t,e,i){},59:function(t,e,i){"use strict";i.r(e);var n=i(28),c=i(25),s=i.n(c),o=(i(58),"UP"),a="DOWN",r="LEFT",h="RIGHT";var u=i(6),l=i(26),d=i(27),f={width:600,height:600},v={x:20,y:20},w=["#002984","#9c27b0","#ffeb3b","#4caf50","#00bcd4","#c66900"].map((function(t){return{dark:t,light:Object(d.a)(t,.2)}}));function y(t,e){var i=e.x,n=e.y;return{x:Math.floor(t.width/i),y:Math.floor(t.height/n)}}var g=function(){function t(e,i){var n=i.numTiles,c=void 0===n?v:n,s=i.size,o=void 0===s?f:s;Object(u.a)(this,t),this.ctx=e,this.numTiles=c,this.size=o,this.tileSize=y(o,c)}return Object(l.a)(t,[{key:"setNumTiles",value:function(t){this.numTiles=t,this.tileSize=y(this.size,this.numTiles)}},{key:"setSize",value:function(t){this.size=t,this.tileSize=y(this.size,this.numTiles)}},{key:"drawCircle",value:function(t,e){var i=this.tileSize,n=i.x,c=i.y;this.ctx.beginPath(),this.ctx.ellipse((t.x+.5)*n,(t.y+.5)*c,n/2,c/2,0,0,2*Math.PI),this.ctx.fillStyle=e,this.ctx.fill()}},{key:"drawSquare",value:function(t,e){var i=this.tileSize,n=i.x,c=i.y,s=t.x*n,o=t.y*c;this.ctx.fillStyle=e,this.ctx.fillRect(s+2,o+2,n-2,c-2)}},{key:"draw",value:function(t){var e=this,i=this.size,n=i.width,c=i.height,s=t.snakes,o=void 0===s?[]:s,a=t.apples,r=void 0===a?[]:a,h=t.obstacles,u=void 0===h?[]:h;this.ctx.fillStyle="#212121",this.ctx.fillRect(0,0,n,c),o.forEach((function(t,i){var n=w[i%w.length];t.body.forEach((function(t){return e.drawSquare(t,n.dark)})),e.drawSquare(t.position,n.light)})),r.forEach((function(t){e.drawCircle(t.position,"#FF0000")})),u.forEach((function(t){e.drawSquare(t.position,"#CCCCCC")}))}}]),t}(),m="https://zettca-sneks.herokuapp.com/",p=document.getElementById("root"),x=document.createElement("canvas"),b=x.getContext("2d");p.appendChild(x);var k=new g(b,{size:{width:x.width,height:x.height}}),z=s()(m);z.on("connect",(function(){console.log("Connected to: ".concat(m," - ").concat(z.id))})),z.on("config",(function(t){var e=t.tileCount;k.setNumTiles(Object(n.a)({},e))})),z.on("tick",(function(t){requestAnimationFrame((function(){return k.draw(t)}))}));var S={x:0,y:0};function T(){var t=document.body||{},e=t.clientWidth,i=t.clientHeight,n=Math.min(e,i);x.width=n,x.height=n,k.setSize({width:n,height:n})}p.addEventListener("keydown",(function(t){var e=function(t){switch(t.code){case"KeyA":case"ArrowLeft":return r;case"KeyW":case"ArrowUp":return o;case"KeyD":case"ArrowRight":return h;case"KeyS":case"ArrowDown":return a;default:return null}}(t);z.emit("input",e)})),p.addEventListener("touchstart",(function(t){S.x=t.changedTouches[0].screenX,S.y=t.changedTouches[0].screenY}),!1),p.addEventListener("touchend",(function(t){var e=t.changedTouches[0].screenX-S.x,i=t.changedTouches[0].screenY-S.y,n=function(t,e){return 0===t&&0===e?null:Math.abs(t)>Math.abs(e)?t>0?"RIGHT":"LEFT":e>0?"DOWN":"UP"}(e,i);n&&z.emit("input",n)}),!1),window.addEventListener("resize",T),document.addEventListener("DOMContentLoaded",T,!1)}},[[59,1,2]]]);
//# sourceMappingURL=main.f0c5a126.chunk.js.map